/*! Staffroller v0.2.3 MIT by Qrac */
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}var StaffRoller=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,o);var e={id:"staff",title:"STAFF",data:"",nameSpace:"staffroller",showAttr:"data-".concat(t.nameSpace||"staffroller","-show"),closeAttr:"data-".concat(t.nameSpace||"staffroller","-close"),modalAttr:"data-".concat(t.nameSpace||"staffroller","-modal")};Object.assign(this,e,t),this.showEls=document.querySelectorAll("[".concat(this.showAttr,"]")),this.init()}return _createClass(o,[{key:"init",value:function(){Array.isArray(this.data)&&(this.setData(),this.setShow(),this.setClose(),this.setKeydown())}},{key:"setData",value:function(){var t=this.data,e="";for(var o in t){var a=t[o].role,n="";if(Array.isArray(a))for(var r in a)n+='<li class="staffroller-role">'.concat(a[r],"</li>");else n+='<li class="staffroller-role">'.concat(t[o].role,"</li>");n='<dt><ul class="staffroller-roles">'.concat(n,"</ul></dt>");var l=t[o].name,s="";if(Array.isArray(l))for(var c in l)s+='<li class="staffroller-name">'.concat(l[c],"</li>");else s+='<li class="staffroller-name">'.concat(t[o].name,"</li>");e=e+n+(s='<dd><ul class="staffroller-names">'.concat(s,"</ul></dd>"))}e='<div class="staffroller-row">'.concat(e,"</div>");var i='\n      <div id="'.concat(this.id,'" ').concat(this.modalAttr,'="').concat(this.id,'" aria-hidden="true" class="staffroller-modal">\n        <div class="staffroller-overlay is-fade"></div>\n        <div class="staffroller-wrapper">\n          <div class="staffroller-container is-fade">\n            <p class="staffroller-title">').concat(this.title,'</p>\n            <dl class="staffroller-content">').concat(e,'</dl>\n          </div>\n          <button type="button" ').concat(this.closeAttr,'="').concat(this.id,'" class="staffroller-close"></button>\n        </div>\n      </div>\n    ');document.querySelector("body").insertAdjacentHTML("beforeend",i)}},{key:"setShow",value:function(){var o=this;this.showEls.forEach(function(t){var e=t.getAttribute(o.showAttr);t.addEventListener("click",function(t){return o.showModal(t,e)})})}},{key:"setClose",value:function(){var e=this;document.querySelectorAll("[".concat(this.closeAttr,"]")).forEach(function(t){t.addEventListener("click",function(t){return e.closeModal(t)})})}},{key:"setKeydown",value:function(){var e=this;document.addEventListener("keydown",function(t){return e.onKeydown(t)})}},{key:"showModal",value:function(t,e){t.preventDefault(),document.getElementById(e).setAttribute("aria-hidden","false")}},{key:"closeModal",value:function(t){t.preventDefault(),document.querySelectorAll("[".concat(this.modalAttr,"]")).forEach(function(t){t.setAttribute("aria-hidden","true")})}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t)}}]),o}();"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=StaffRoller);